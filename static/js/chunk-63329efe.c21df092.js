(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-63329efe"],{a267:function(e,t,n){"use strict";n("e28b")},b8a8:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{attrs:{id:"container"}}),n("div",{staticClass:"tag1"}),n("el-tag",[e._v(e._s(e.width)+","+e._s(e.height))]),n("el-row",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showLayer()}}},[e._v("显示图层")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.hideLayer()}}},[e._v("隐藏图层")]),n("el-button",{staticClass:"re",attrs:{type:"success",icon:"el-icon-refresh",plain:""},on:{click:function(t){return e.refresh_btn()}}},[e._v("刷新")])],1),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.menuShipShow,expression:"menuShipShow"}],ref:"menuShip",staticClass:"ul_menu"},[n("li",{on:{click:e.daohang}},[e._v("导航一")]),n("li",{on:{click:e.alert}},[e._v("alert")]),n("li",{staticClass:"has-sub",on:{click:e.confirm}},[e._v(" confirm "),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.menuShow,expression:"menuShow"}]},[n("li",[e._v("网页特效原理分析")]),n("li",[e._v("响应用户操作")]),n("li",[e._v("提示框效果")]),n("li",[e._v("事件驱动")]),n("li",[e._v("元素属性操作")])])]),n("li",{on:{click:e.text}},[e._v("text")])]),n("div",{attrs:{id:"elementmenu"}},[n("el-menu",{attrs:{"default-active":e.activeIndex2,mode:"horizontal","text-color":"#000","background-color":"#fff"}},[n("el-menu-item",{attrs:{index:"1"},on:{click:function(t){return e.refresh_btn()}}},[e._v("刷新")]),n("el-submenu",{attrs:{index:"2"}},[n("template",{slot:"title"},[e._v("我的工作台")]),e._l(e.cities,(function(t){return n("el-checkbox",{key:t,staticStyle:{display:"block",left:"20px"},attrs:{label:t}},[e._v(e._s(t))])})),n("el-submenu",{staticClass:"four",attrs:{index:"2-4"}},[n("template",{slot:"title"},[e._v("选项4")]),n("el-menu-item",{attrs:{index:"2-4-1"}},[e._v("选项1")]),n("el-menu-item",{attrs:{index:"2-4-2"}},[e._v("选项2")]),n("el-menu-item",{attrs:{index:"2-4-3"}},[e._v("选项3")])],2)],2),n("el-menu-item",{attrs:{index:"3"}},[e._v("消息中心")]),n("el-menu-item",{attrs:{index:"4"}},[e._v("订单管理")])],1)],1)],1)},o=[],a=n("2909"),s=(n("d81d"),n("d3b7"),n("25f0"),n("ac1f"),n("00b4"),n("4d63"),n("2c3e"),n("862d3")),r=n.n(s),l=n("7aaa"),c=n("5a89"),u=n("aea1"),m=["选项一","选项二","选项三","选项四"],d={name:"Mapview",inject:["reload"],data:function(){return{map:null,pixiApp:null,mainContainer:null,raycaster:null,mouse:null,mycamera:null,myscene:null,mymeshes:null,width:null,height:null,activeIndex2:"",cities:m,polygonIs:!1,satellite:null,imageLayer:[],menuShipShow:!1,menuShow:!1}},created:function(){},beforeDestroy:function(){this.map.destroy()},mounted:function(){this.initAMap(),document.oncontextmenu=function(){return!1}},methods:{daohang:function(){var e=prompt("请输入要搜索的内容：");window.open("https://www.baidu.com/s?wd="+e)},alert:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){alert("alert")})),text:function(){var e=document.getSelection().toString();window.open("https://www.baidu.com/s?wd="+e)},confirm:function(){alert("confirm")},initAMap:function(){var e=this;r.a.load({key:"4f84ac154dfef9a263a21c81e3194788",version:"2.0",plugins:["AMap.ToolBar","AMap.Driving","AMap.CanvasLayer","AMap.GLCustomLayer"],AMapUI:{version:"1.1",plugins:[]},Loca:{version:"2.0"}}).then((function(t){var n,i,o,s=new t.LngLat(121.37,31.47),r=new t.ImageLayer({url:"https://ae01.alicdn.com/kf/H12aa8b05e0f44c699163854961a0a5faX.png",bounds:new t.Bounds([121.369765,31.485106],[121.384765,31.492366]),zooms:[15,21]}),l=new t.ImageLayer({url:"https://ae05.alicdn.com/kf/Hcbce4fbf3b05449a868072862e65b243x.png",bounds:new t.Bounds([121.369765,31.485106],[121.384765,31.492366]),zooms:[15,21]}),m=new t.TileLayer.Satellite;e.satellite=m,e.imageLayer[0]=r,e.imageLayer[1]=l,e.map=new t.Map("container",{viewMode:"3D",zoom:15,center:s,resizeEnable:!0,layers:[t.createDefaultLayer(),e.imageLayer[0]]});var d,h=[],p=e.map.customCoords,w=p.lngLatsToCoords([[121.37,31.47],[121.33,31.47]]),f=new t.GLCustomLayer({zIndex:10,init:function(a){function s(){n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight),d.setSize(window.innerWidth,window.innerHeight)}n=new c["i"](60,window.innerWidth/window.innerHeight,100,1<<30),e.mycamera=n,i=new c["o"]({context:a}),i.autoClear=!1,i.setPixelRatio(window.devicePixelRatio),i.setSize(window.innerWidth,window.innerHeight),document.querySelector(".tag1").appendChild(i.domElement),o=new c["k"],e.myscene=o;var r=new c["a"](16777215,.3),l=new c["c"](16777215,1);l.position.set(1e3,-100,900),o.add(l),o.add(r);var m=(new c["l"]).load("https://a.amap.com/jsapi_demos/static/demo-center-v2/three.jpeg");m.minFilter=c["d"];var p=new c["g"]({color:16773360,depthTest:!0,transparent:!0,map:m});e.mymeshes=[];for(var f=new c["b"](1e3,1e3,1e3),y=0;y<w.length;y++){var v=w[y],g=new c["f"](f,p);g.position.set(v[0],v[1],500),g.testName=y,h.push({mesh:g,count:y}),e.mymeshes.push(g),o.add(g)}var x=[[121.32,31.45],[121.36,31.45]],b=new t.Polyline({path:x,showDir:!0,strokeColor:"#3366bb",strokeWeight:10}),S=new Array;S.push([121.35,31.47]),S.push([121.36,31.47]),S.push([121.35,31.46]),S.push([121.34,31.46]);var _=new t.Polygon({path:S,strokeColor:"#FF33FF",strokeOpacity:.2,strokeWeight:3,fillColor:"#1791fc",fillOpacity:.35,zIndex:-1}),k=e;_.on("mouseover",(function(){k.polygonIs=!0})).on("mouseout",(function(){k.polygonIs=!1})),e.map.add([b,_]),e.raycaster=new c["j"],e.mouse=new c["m"](1,1),d=new u["b"],d.setSize(window.innerWidth,window.innerHeight),d.domElement.style.position="absolute",d.domElement.style.top="0px",d.domElement.style.pointerEvents="none",document.querySelector(".tag1").appendChild(d.domElement);var C=e.createTag(["哪吒","中国上海"]),L=new c["n"];e.mymeshes[0].getWorldPosition(L),e.mymeshes[0].add(C);var M=e.createTag(["中国","你好"]);e.mymeshes[1].add(M),window.addEventListener("resize",s,!1),window.addEventListener("mousemove",e.onMouseMove,!1),window.addEventListener("mouseup",e.onMouseUp,!1)},render:function(){var e,t,s;i.state.reset();var r=p.getCameraParams(),l=r.near,c=r.far,u=r.fov,m=r.up,h=r.lookAt,w=r.position;n.near=l,n.far=c,n.fov=u,(e=n.position).set.apply(e,Object(a["a"])(w)),(t=n.up).set.apply(t,Object(a["a"])(m)),(s=n).lookAt.apply(s,Object(a["a"])(h)),n.updateProjectionMatrix(),d.render(o,n),i.render(o,n)}});e.map.add(f);var y=e.map;function v(){for(var e=0;e<h.length;e++){var t=h[e],n=t.mesh,i=t.count;i+=1,n.rotateZ(i/180*Math.PI)}y.render(),requestAnimationFrame(v)}v()})).catch((function(e){console.log(e)}))},createTag:function(e){var t=document.createElement("ul");t.style.padding="4px 10px",t.style.color="#808080",t.style.textShadow="0 1px white, 1px 0 white, -1px 0 white, 0 -1px white",t.style.fontSize="16px",t.style.position="absolute",t.style.borderRadius="5px",t.style.pointerEvents="none",t.style.listStyle="none";for(var n=0;n<e.length;n++){var i=document.createElement("li");i.innerHTML=e[n],t.appendChild(i)}var o=new u["a"](t);return o},initPixi:function(){this.pixiApp=new l["a"]({width:1800,height:1800,transparent:!0,autoStart:!1,forceCanvas:!0}),this.pixiApp.renderer.view.style.position="absolute",this.pixiApp.renderer.view.style.display="block",this.mainContainer=new l["b"],this.pixiApp.stage.addChild(this.mainContainer)},onMouseClick:function(e){this.mouse.x=e.clientX/window.innerWidth*2-1,this.mouse.y=-e.clientY/window.innerHeight*2+1,this.raycaster.setFromCamera(this.mouse,this.mycamera);var t=this.raycaster.intersectObjects(this.myscene.children);console.log(t[0].object.testName),console.log(t[0].point),alert(t[0].object.testName)},onMouseMove:function(e){e.preventDefault(),this.raycaster.setFromCamera(this.mouse,this.mycamera);var t=document.querySelector("#container"),n=t.getBoundingClientRect();this.mouse.x=(e.clientX-n.left)/t.offsetWidth*2-1,this.mouse.y=-(e.clientY-n.top)/t.offsetHeight*2+1;var i=this.raycaster.intersectObjects(this.myscene.children),o=document.querySelector(".el-tag"),a=e.clientX,s=e.clientY;i[0]||this.polygonIs?(o.style.left=a+5+"px",o.style.top=s+"px",o.style.display="block",this.width=a,this.height=s):o.style.display="none"},showLayer:function(){this.map.add(this.satellite),this.map.remove(this.imageLayer[0]),this.map.add(this.imageLayer[1])},hideLayer:function(){this.map.remove(this.satellite),this.map.remove(this.imageLayer[1]),this.map.add(this.imageLayer[0])},onMouseUp:function(e){e.preventDefault();var t=document.querySelector("#container"),n=t.getBoundingClientRect();this.mouse.x=(e.clientX-n.left)/t.offsetWidth*2-1,this.mouse.y=-(e.clientY-n.top)/t.offsetHeight*2+1,this.raycaster.setFromCamera(this.mouse,this.mycamera);var i=this.raycaster.intersectObjects(this.myscene.children);function o(e,t){return new RegExp("(^|\\s)"+t+"($|\\s)").test(e.className)}var a=this.$refs.menuShip;2===e.button&&(i[0]||this.polygonIs)?(this.menuShipShow=!0,a.style.left=e.clientX+5+"px",a.style.top=e.clientY+5+"px",a.onmouseover=function(t){var n=t.target;if(o(n,"has-sub")){var i=n.querySelector("ul");i.style.left=e.clientX+150+"px",i.style.top=e.clientY+n.offsetTop+"px"}}):this.menuShipShow=!1},refresh_btn:function(){this.reload(),console.log("刷新了")}}},h=d,p=(n("a267"),n("2877")),w=Object(p["a"])(h,i,o,!1,null,"1cc6a52e",null);t["default"]=w.exports},e28b:function(e,t,n){}}]);